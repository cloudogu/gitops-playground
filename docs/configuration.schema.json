{
  "$schema" : "https://json-schema.org/draft/2020-12/schema",
  "$defs" : {
    "BaseDomainSchema" : {
      "type" : "object",
      "properties" : {
        "baseDomain" : {
          "type" : "string",
          "description" : "The domain under which a subdomain for all petclinic will be used."
        }
      },
      "additionalProperties" : false
    },
    "HelmConfig" : {
      "type" : "object",
      "properties" : {
        "chart" : {
          "type" : "string",
          "description" : "Name of the Helm chart"
        },
        "repoURL" : {
          "type" : "string",
          "description" : "Repository url from which the Helm chart should be obtained"
        },
        "version" : {
          "type" : "string",
          "description" : "The version of the Helm chart to be installed"
        }
      },
      "description" : "Common config parameter for the Helm package manager. Currently Name of Char (chart), URl of Helm-Repository (repoURL) and Chart Version (version) are implemented",
      "additionalProperties" : false
    },
    "RepositorySchema" : {
      "type" : "object",
      "properties" : {
        "url" : {
          "type" : "string"
        }
      },
      "additionalProperties" : false
    },
    "RepositorySchemaWithRef" : {
      "type" : "object",
      "properties" : {
        "ref" : {
          "type" : "string"
        },
        "url" : {
          "type" : "string"
        }
      },
      "additionalProperties" : false
    }
  },
  "type" : "object",
  "properties" : {
    "application" : {
      "type" : "object",
      "properties" : {
        "baseUrl" : {
          "type" : "string",
          "description" : "the external base url (TLD) for all tools, e.g. https://example.com or http://localhost:8080. The individual -url params for argocd, grafana, vault and mailhog take precedence."
        },
        "destroy" : {
          "type" : "boolean",
          "description" : "Unroll playground"
        },
        "gitEmail" : {
          "type" : "string",
          "description" : "Sets git author and committer email used for initial commits"
        },
        "gitName" : {
          "type" : "string",
          "description" : "Sets git author and committer name used for initial commits"
        },
        "insecure" : {
          "type" : "boolean",
          "description" : "Sets insecure-mode in cURL which skips cert validation"
        },
        "localHelmChartFolder" : {
          "type" : "string"
        },
        "mirrorRepos" : {
          "type" : "boolean",
          "description" : "Changes the sources of deployed tools so they are not pulled from the internet, but are pulled from git and work in air-gapped environments."
        },
        "namePrefix" : {
          "type" : "string",
          "description" : "Set name-prefix for repos, jobs, namespaces"
        },
        "password" : {
          "type" : "string",
          "description" : "Set initial admin passwords"
        },
        "podResources" : {
          "type" : "boolean",
          "description" : "Write kubernetes resource requests and limits on each pod"
        },
        "remote" : {
          "type" : "boolean",
          "description" : "Expose services as LoadBalancers"
        },
        "skipCrds" : {
          "type" : "boolean",
          "description" : "Skip installation of CRDs. This requires prior installation of CRDs"
        },
        "urlSeparatorHyphen" : {
          "type" : "boolean",
          "description" : "Use hyphens instead of dots to separate application name from base-url"
        },
        "username" : {
          "type" : "string",
          "description" : "Set initial admin username"
        },
        "yes" : {
          "type" : "boolean",
          "description" : "Skip confirmation"
        }
      },
      "description" : "Application configuration parameter for the GitOPS-Playground",
      "additionalProperties" : false
    },
    "features" : {
      "type" : "object",
      "properties" : {
        "argocd" : {
          "type" : "object",
          "properties" : {
            "active" : {
              "type" : "boolean",
              "description" : "Install ArgoCD"
            },
            "emailFrom" : {
              "type" : "string",
              "description" : "Notifications, define Argo CD sender email address"
            },
            "emailToAdmin" : {
              "type" : "string",
              "description" : "Notifications, define Argo CD admin recipient email address"
            },
            "emailToUser" : {
              "type" : "string",
              "description" : "Notifications, define Argo CD user / app-team recipient email address"
            },
            "url" : {
              "type" : "string",
              "description" : "The URL where argocd is accessible. It has to be the full URL with http:// or https://"
            }
          },
          "description" : "Configuration Parameter for the ArgoCD Operator",
          "additionalProperties" : false
        },
        "exampleApps" : {
          "type" : "object",
          "properties" : {
            "nginx" : {
              "$ref" : "#/$defs/BaseDomainSchema"
            },
            "petclinic" : {
              "$ref" : "#/$defs/BaseDomainSchema"
            }
          },
          "additionalProperties" : false
        },
        "ingressNginx" : {
          "type" : "object",
          "properties" : {
            "active" : {
              "type" : "boolean",
              "description" : "Sets and enables Nginx Ingress Controller"
            },
            "helm" : {
              "type" : "object",
              "properties" : {
                "chart" : {
                  "type" : "string",
                  "description" : "Name of the Helm chart"
                },
                "repoURL" : {
                  "type" : "string",
                  "description" : "Repository url from which the Helm chart should be obtained"
                },
                "values" : {
                  "type" : "object"
                },
                "version" : {
                  "type" : "string",
                  "description" : "The version of the Helm chart to be installed"
                }
              },
              "additionalProperties" : false
            }
          },
          "description" : "Config parameter for the NGINX Ingress Controller",
          "additionalProperties" : false
        },
        "mail" : {
          "type" : "object",
          "properties" : {
            "helm" : {
              "type" : "object",
              "properties" : {
                "chart" : {
                  "type" : "string",
                  "description" : "Name of the Helm chart"
                },
                "image" : {
                  "type" : "string"
                },
                "repoURL" : {
                  "type" : "string",
                  "description" : "Repository url from which the Helm chart should be obtained"
                },
                "version" : {
                  "type" : "string",
                  "description" : "The version of the Helm chart to be installed"
                }
              },
              "additionalProperties" : false
            },
            "mailhog" : {
              "type" : "boolean",
              "description" : "Installs MailHog as Mail server."
            },
            "mailhogUrl" : {
              "type" : "string",
              "description" : "Sets url for MailHog"
            },
            "smtpAddress" : {
              "type" : "string",
              "description" : "Sets smtp port of external Mailserver"
            },
            "smtpPassword" : {
              "type" : "string",
              "description" : "Sets smtp password of external Mailserver"
            },
            "smtpPort" : {
              "type" : "integer",
              "description" : "Sets smtp port of external Mailserver"
            },
            "smtpUser" : {
              "type" : "string",
              "description" : "Sets smtp username for external Mailserver"
            },
            "url" : {
              "type" : "string"
            }
          },
          "description" : "Config Parameter for the internal Mail Server",
          "additionalProperties" : false
        },
        "monitoring" : {
          "type" : "object",
          "properties" : {
            "active" : {
              "type" : "boolean",
              "description" : "Installs the Kube-Prometheus-Stack. This includes Prometheus, the Prometheus operator, Grafana and some extra resources"
            },
            "grafanaEmailFrom" : {
              "type" : "string",
              "description" : "Notifications, define grafana alerts sender email address"
            },
            "grafanaEmailTo" : {
              "type" : "string",
              "description" : "Notifications, define grafana alerts recipient email address"
            },
            "grafanaUrl" : {
              "type" : "string",
              "description" : "Sets url for grafana"
            },
            "helm" : {
              "type" : "object",
              "properties" : {
                "chart" : {
                  "type" : "string",
                  "description" : "Name of the Helm chart"
                },
                "grafanaImage" : {
                  "type" : "string",
                  "description" : "Sets image for grafana"
                },
                "grafanaSidecarImage" : {
                  "type" : "string",
                  "description" : "Sets image for grafana's sidecar"
                },
                "prometheusConfigReloaderImage" : {
                  "type" : "string",
                  "description" : "Sets image for prometheus-operator's config-reloader"
                },
                "prometheusImage" : {
                  "type" : "string",
                  "description" : "Sets image for prometheus"
                },
                "prometheusOperatorImage" : {
                  "type" : "string",
                  "description" : "Sets image for prometheus-operator"
                },
                "repoURL" : {
                  "type" : "string",
                  "description" : "Repository url from which the Helm chart should be obtained"
                },
                "version" : {
                  "type" : "string",
                  "description" : "The version of the Helm chart to be installed"
                }
              },
              "additionalProperties" : false
            }
          },
          "description" : "Config parameter for the Monitoring system (prometheus)",
          "additionalProperties" : false
        },
        "secrets" : {
          "type" : "object",
          "properties" : {
            "externalSecrets" : {
              "type" : "object",
              "properties" : {
                "helm" : {
                  "type" : "object",
                  "properties" : {
                    "certControllerImage" : {
                      "type" : "string",
                      "description" : "Sets image for external secrets operator's controller"
                    },
                    "chart" : {
                      "type" : "string",
                      "description" : "Name of the Helm chart"
                    },
                    "image" : {
                      "type" : "string",
                      "description" : "Sets image for external secrets operator"
                    },
                    "repoURL" : {
                      "type" : "string",
                      "description" : "Repository url from which the Helm chart should be obtained"
                    },
                    "version" : {
                      "type" : "string",
                      "description" : "The version of the Helm chart to be installed"
                    },
                    "webhookImage" : {
                      "type" : "string",
                      "description" : "Sets image for external secrets operator's webhook"
                    }
                  },
                  "additionalProperties" : false
                }
              },
              "description" : "Config parameter for the external secrets operator",
              "additionalProperties" : false
            },
            "vault" : {
              "allOf" : [ {
                "type" : "object",
                "properties" : {
                  "helm" : {
                    "type" : "object",
                    "properties" : {
                      "chart" : {
                        "type" : "string",
                        "description" : "Name of the Helm chart"
                      },
                      "image" : {
                        "type" : "string",
                        "description" : "Sets image for vault"
                      },
                      "repoURL" : {
                        "type" : "string",
                        "description" : "Repository url from which the Helm chart should be obtained"
                      },
                      "version" : {
                        "type" : "string",
                        "description" : "The version of the Helm chart to be installed"
                      }
                    },
                    "additionalProperties" : false
                  },
                  "mode" : {
                    "type" : "string"
                  },
                  "url" : {
                    "type" : "string",
                    "description" : "Sets url for vault ui"
                  }
                },
                "description" : "Config parameter for the secrets-vault",
                "additionalProperties" : false
              }, {
                "description" : "Installs Hashicorp vault and the external secrets operator. Possible values: ${COMPLETION-CANDIDATES}"
              } ]
            }
          },
          "additionalProperties" : false
        }
      },
      "additionalProperties" : false
    },
    "images" : {
      "type" : "object",
      "properties" : {
        "helm" : {
          "type" : "string",
          "description" : "Sets image for helm"
        },
        "helmKubeval" : {
          "type" : "string",
          "description" : "Sets image for helmkubeval"
        },
        "kubectl" : {
          "type" : "string",
          "description" : "Sets image for kubectl"
        },
        "kubeval" : {
          "type" : "string",
          "description" : "Sets image for kubeval"
        },
        "nginx" : {
          "type" : "string",
          "description" : "Sets image for nginx used in various applications"
        },
        "petclinic" : {
          "type" : "string",
          "description" : "Sets image for petclinic used in various applications"
        },
        "yamllint" : {
          "type" : "string",
          "description" : "Sets image for yamllint"
        }
      },
      "additionalProperties" : false
    },
    "jenkins" : {
      "type" : "object",
      "properties" : {
        "helm" : {
          "type" : "object",
          "properties" : {
            "version" : {
              "type" : "string",
              "description" : "The version of the Helm chart to be installed"
            }
          },
          "description" : "Common config parameter for the Helm package manager. Currently Name of Char (chart), URl of Helm-Repository (repoURL) and Chart Version (version) are implemented",
          "additionalProperties" : false
        },
        "mavenCentralMirror" : {
          "type" : "string",
          "description" : "URL for maven mirror, used by applications built in Jenkins"
        },
        "metricsPassword" : {
          "type" : "string",
          "description" : "Mandatory when --jenkins-url is set and monitoring enabled"
        },
        "metricsUsername" : {
          "type" : "string",
          "description" : "Mandatory when --jenkins-url is set and monitoring enabled"
        },
        "password" : {
          "type" : "string",
          "description" : "Mandatory when --jenkins-url is set"
        },
        "url" : {
          "type" : "string",
          "description" : "The url of your external jenkins"
        },
        "username" : {
          "type" : "string",
          "description" : "Mandatory when --jenkins-url is set"
        }
      },
      "description" : "Config Parameter for Jenkins CI/CD Pipeline Server",
      "additionalProperties" : false
    },
    "registry" : {
      "type" : "object",
      "properties" : {
        "helm" : {
          "$ref" : "#/$defs/HelmConfig"
        },
        "internalPort" : {
          "type" : "integer",
          "description" : "Port of registry registry. Ignored when a registry*url params are set"
        },
        "password" : {
          "type" : "string",
          "description" : "Optional when --registry-url is set"
        },
        "path" : {
          "type" : "string",
          "description" : "Optional when --registry-url is set"
        },
        "pullPassword" : {
          "type" : "string",
          "description" : "Optional when --registry-pull-url is set"
        },
        "pullUrl" : {
          "type" : "string",
          "description" : "The url of your external pull-registry. Make sure to always use this with --registry-push-url"
        },
        "pullUsername" : {
          "type" : "string",
          "description" : "Optional when --registry-pull-url is set"
        },
        "pushPassword" : {
          "type" : "string",
          "description" : "Optional when --registry-push-url is set"
        },
        "pushPath" : {
          "type" : "string",
          "description" : "Optional when --registry-push-url is set"
        },
        "pushUrl" : {
          "type" : "string",
          "description" : "The url of your external pull-registry. Make sure to always use this with --registry-pull-url"
        },
        "pushUsername" : {
          "type" : "string",
          "description" : "Optional when --registry-push-url is set"
        },
        "url" : {
          "type" : "string",
          "description" : "The url of your external registry"
        },
        "username" : {
          "type" : "string",
          "description" : "Optional when --registry-url is set"
        }
      },
      "description" : "Config Parameter for Regitry",
      "additionalProperties" : false
    },
    "repositories" : {
      "type" : "object",
      "properties" : {
        "cesBuildLib" : {
          "$ref" : "#/$defs/RepositorySchema"
        },
        "gitopsBuildLib" : {
          "$ref" : "#/$defs/RepositorySchema"
        },
        "springBootHelmChart" : {
          "$ref" : "#/$defs/RepositorySchemaWithRef"
        },
        "springPetclinic" : {
          "$ref" : "#/$defs/RepositorySchemaWithRef"
        }
      },
      "additionalProperties" : false
    },
    "scmm" : {
      "type" : "object",
      "properties" : {
        "helm" : {
          "$ref" : "#/$defs/HelmConfig"
        },
        "password" : {
          "type" : "string",
          "description" : "Mandatory when --scmm-url is set"
        },
        "url" : {
          "type" : "string",
          "description" : "The host of your external scm-manager"
        },
        "username" : {
          "type" : "string",
          "description" : "Mandatory when --scmm-url is set"
        }
      },
      "description" : "Config Parameter for SCMManager (Git repository Server, https://scm-manager.org/)",
      "additionalProperties" : false
    }
  },
  "additionalProperties" : false
}